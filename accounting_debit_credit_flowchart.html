            <!-- å­¸ç¿’çµ±è¨ˆ -->
            <div id="statisticsMode" class="exam-mode" style="display: none;">
                <h3>ğŸ“Š å­¸ç¿’çµ±è¨ˆåˆ†æ</h3>
                <div id="statisticsContent" class="statistics-content"></div>
            </div>
        </div>
        
        <div class="example-section">
            <h2>ğŸ’¡ å¯¦å‹™ç¯„ä¾‹</h2>
            <div class="examples">
                <div class="example-card">
                    <h3>ğŸ¦ è³‡ç”¢ç¯„ä¾‹</h3>
                    <div class="example-item">
                        <strong>ç¾é‡‘å¢åŠ  $10,000</strong><br>
                        â†’ å€Ÿï¼šç¾é‡‘ $10,000
                    </div>
                    <div class="example-item">
                        <strong>æ”¯ä»˜ç¾é‡‘ $5,000</strong><br>
                        â†’ è²¸ï¼šç¾é‡‘ $5,000
                    </div>
                </div>
                
                <div class="example-card">
                    <h3>ğŸ’³ è² å‚µç¯„ä¾‹</h3>
                    <div class="example-item">
                        <strong>è³’è³¼å•†å“ $8,000</strong><br>
                        â†’ è²¸ï¼šæ‡‰ä»˜å¸³æ¬¾ $8,000
                    </div>
                    <div class="example-item">
                        <strong>å„Ÿé‚„æ‡‰ä»˜å¸³æ¬¾ $3,000</strong><br>
                        â†’ å€Ÿï¼šæ‡‰ä»˜å¸³æ¬¾ $3,000
                    </div>
                </div>
                
                <div class="example-card">
                    <h3>ğŸ’° æ”¶å…¥ç¯„ä¾‹</h3>
                    <div class="example-item">
                        <strong>éŠ·å”®å•†å“æ”¶å…¥ $15,000</strong><br>
                        â†’ è²¸ï¼šéŠ·è²¨æ”¶å…¥ $15,000
                    </div>
                    <div class="example-item">
                        <strong>éŠ·è²¨é€€å› $2,000</strong><br>
                        â†’ å€Ÿï¼šéŠ·è²¨æ”¶å…¥ $2,000
                    </div>
                </div>
                
                <div class="example-card">
                    <h3>ğŸ’¼ è²»ç”¨ç¯„ä¾‹</h3>
                    <div class="example-item">
                        <strong>æ”¯ä»˜è–ªè³‡ $12,000</strong><br>
                        â†’ å€Ÿï¼šè–ªè³‡è²»ç”¨ $12,000
                    </div>
                    <div class="example-item">
                        <strong>è²»ç”¨æ²–å› $1,000</strong><br>
                        â†’ è²¸ï¼šè–ªè³‡è²»ç”¨ $1,000
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // å…¨åŸŸè®Šæ•¸
        let currentQuestion = 0;
        let examQuestions = [];
        let userAnswers = [];
        let examTimer = null;
        let examStartTime = null;
        let examStats = JSON.parse(localStorage.getItem('examStats')) || {
            totalQuestions: 0,
            correctAnswers: 0,
            totalExams: 0,
            timeSpent: 0,
            wrongQuestions: []
        };

        // é¡Œåº«
        const questionBank = {
            beginner: [
                {
                    question: "ç¾é‡‘å¢åŠ  $50,000 æ™‚ï¼Œæ‡‰è©²å¦‚ä½•è¨˜å¸³ï¼Ÿ",
                    scenario: "å…¬å¸æ”¶åˆ°å®¢æˆ¶ä»˜æ¬¾ $50,000",
                    options: ["å€Ÿï¼šç¾é‡‘ $50,000", "è²¸ï¼šç¾é‡‘ $50,000", "å€Ÿï¼šéŠ€è¡Œå­˜æ¬¾ $50,000", "è²¸ï¼šéŠ€è¡Œå­˜æ¬¾ $50,000"],
                    correct: 0,
                    explanation: "ç¾é‡‘æ˜¯è³‡ç”¢ç§‘ç›®ï¼Œå¢åŠ æ™‚è¨˜å€Ÿæ–¹ã€‚è³‡ç”¢å¢åŠ è¨˜å€Ÿæ–¹æ˜¯æœƒè¨ˆçš„åŸºæœ¬åŸå‰‡ã€‚",
                    type: "asset",
                    level: "beginner"
                },
                {
                    question: "æ”¯ä»˜ç§Ÿé‡‘è²»ç”¨ $10,000 æ™‚ï¼Œç§Ÿé‡‘è²»ç”¨æ‡‰è©²è¨˜åœ¨å“ªä¸€æ–¹ï¼Ÿ",
                    scenario: "å…¬å¸æ”¯ä»˜æœ¬æœˆè¾¦å…¬å®¤ç§Ÿé‡‘ $10,000",
                    options: ["å€Ÿï¼šç§Ÿé‡‘è²»ç”¨ $10,000", "è²¸ï¼šç§Ÿé‡‘è²»ç”¨ $10,000", "å€Ÿï¼šé ä»˜è²»ç”¨ $10,000", "è²¸ï¼šæ‡‰ä»˜è²»ç”¨ $10,000"],
                    correct: 0,
                    explanation: "ç§Ÿé‡‘è²»ç”¨å±¬æ–¼è²»ç”¨ç§‘ç›®ï¼Œè²»ç”¨ç™¼ç”Ÿï¼ˆå¢åŠ ï¼‰æ™‚è¨˜å€Ÿæ–¹ã€‚",
                    type: "expense",
                    level: "beginner"
                },
                {
                    question: "å…¬å¸å‘éŠ€è¡Œå€Ÿæ¬¾ $100,000 æ™‚ï¼Œå€Ÿæ¬¾æ‡‰è©²è¨˜åœ¨å“ªä¸€æ–¹ï¼Ÿ",
                    scenario: "å…¬å¸å‘éŠ€è¡Œç”³è«‹çŸ­æœŸå€Ÿæ¬¾ $100,000",
                    options: ["å€Ÿï¼šçŸ­æœŸå€Ÿæ¬¾ $100,000", "è²¸ï¼šçŸ­æœŸå€Ÿæ¬¾ $100,000", "å€Ÿï¼šé•·æœŸå€Ÿæ¬¾ $100,000", "è²¸ï¼šæ‡‰æ”¶å¸³æ¬¾ $100,000"],
                    correct: 1,
                    explanation: "çŸ­æœŸå€Ÿæ¬¾å±¬æ–¼è² å‚µç§‘ç›®ï¼Œè² å‚µå¢åŠ æ™‚è¨˜è²¸æ–¹ã€‚",
                    type: "liability",
                    level: "beginner"
                },
                {
                    question: "éŠ·å”®å•†å“ç²å¾—æ”¶å…¥ $80,000 æ™‚ï¼ŒéŠ·è²¨æ”¶å…¥æ‡‰è©²è¨˜åœ¨å“ªä¸€æ–¹ï¼Ÿ",
                    scenario: "å…¬å¸éŠ·å”®å•†å“çµ¦å®¢æˆ¶ï¼Œæ”¶å…¥ $80,000",
                    options: ["å€Ÿï¼šéŠ·è²¨æ”¶å…¥ $80,000", "è²¸ï¼šéŠ·è²¨æ”¶å…¥ $80,000", "å€Ÿï¼šæ‡‰æ”¶å¸³æ¬¾ $80,000", "è²¸ï¼šå­˜è²¨ $80,000"],
                    correct: 1,
                    explanation: "éŠ·è²¨æ”¶å…¥å±¬æ–¼æ”¶å…¥ç§‘ç›®ï¼Œæ”¶å…¥ç™¼ç”Ÿï¼ˆå¢åŠ ï¼‰æ™‚è¨˜è²¸æ–¹ã€‚",
                    type: "revenue",
                    level: "beginner"
                },
                {
                    question: "å„Ÿé‚„æ‡‰ä»˜å¸³æ¬¾ $30,000 æ™‚ï¼Œæ‡‰ä»˜å¸³æ¬¾æ‡‰è©²è¨˜åœ¨å“ªä¸€æ–¹ï¼Ÿ",
                    scenario: "å…¬å¸å„Ÿé‚„ä¾›æ‡‰å•†æ¬¾é … $30,000",
                    options: ["å€Ÿï¼šæ‡‰ä»˜å¸³æ¬¾ $30,000", "è²¸ï¼šæ‡‰ä»˜å¸³æ¬¾ $30,000", "å€Ÿï¼šæ‡‰æ”¶å¸³æ¬¾ $30,000", "è²¸ï¼šç¾é‡‘ $30,000"],
                    correct: 0,
                    explanation: "æ‡‰ä»˜å¸³æ¬¾å±¬æ–¼è² å‚µç§‘ç›®ï¼Œè² å‚µæ¸›å°‘æ™‚è¨˜å€Ÿæ–¹ã€‚",
                    type: "liability",
                    level: "beginner"
                }
            ],
            intermediate: [
                {
                    question: "è³’è³¼å•†å“ $60,000ï¼Œå•†å“å’Œæ‡‰ä»˜å¸³æ¬¾åˆ†åˆ¥å¦‚ä½•è¨˜å¸³ï¼Ÿ",
                    scenario: "å…¬å¸å‘ä¾›æ‡‰å•†è³’è³¼å•†å“ $60,000ï¼Œ30å¤©å¾Œä»˜æ¬¾",
                    options: ["å€Ÿï¼šå•†å“å­˜è²¨ $60,000ï¼Œè²¸ï¼šæ‡‰ä»˜å¸³æ¬¾ $60,000", "è²¸ï¼šå•†å“å­˜è²¨ $60,000ï¼Œå€Ÿï¼šæ‡‰ä»˜å¸³æ¬¾ $60,000", "å€Ÿï¼šæ‡‰ä»˜å¸³æ¬¾ $60,000ï¼Œè²¸ï¼šå•†å“å­˜è²¨ $60,000", "å€Ÿï¼šé€²è²¨ $60,000ï¼Œå€Ÿï¼šæ‡‰ä»˜å¸³æ¬¾ $60,000"],
                    correct: 0,
                    explanation: "è³’è³¼æ™‚ï¼Œå­˜è²¨ï¼ˆè³‡ç”¢ï¼‰å¢åŠ è¨˜å€Ÿæ–¹ï¼Œæ‡‰ä»˜å¸³æ¬¾ï¼ˆè² å‚µï¼‰å¢åŠ è¨˜è²¸æ–¹ã€‚é€™æ˜¯è¤‡å¼è¨˜å¸³çš„å…¸å‹ä¾‹å­ã€‚",
                    type: "mixed",
                    level: "intermediate"
                },
                {
                    question: "æ”¶åˆ°é ä»˜æ¬¾ $25,000 æ™‚ï¼Œé æ”¶æ¬¾é …æ‡‰è©²è¨˜åœ¨å“ªä¸€æ–¹ï¼Ÿ",
                    scenario: "å®¢æˆ¶é ä»˜è³¼è²¨æ¬¾ $25,000ï¼Œå•†å“å°‡æ–¼ä¸‹æœˆäº¤ä»˜",
                    options: ["å€Ÿï¼šé æ”¶æ¬¾é … $25,000", "è²¸ï¼šé æ”¶æ¬¾é … $25,000", "å€Ÿï¼šéŠ·è²¨æ”¶å…¥ $25,000", "è²¸ï¼šæ‡‰æ”¶å¸³æ¬¾ $25,000"],
                    correct: 1,
                    explanation: "é æ”¶æ¬¾é …å±¬æ–¼è² å‚µç§‘ç›®ï¼ˆå› ç‚ºå…¬å¸æœ‰ç¾©å‹™æä¾›å•†å“æˆ–æœå‹™ï¼‰ï¼Œè² å‚µå¢åŠ è¨˜è²¸æ–¹ã€‚",
                    type: "liability",
                    level: "intermediate"
                },
                {
                    question: "è³¼è²·è¨­å‚™ $150,000 ä»¥ç¾é‡‘æ”¯ä»˜æ™‚ï¼Œè¨­å‚™å’Œç¾é‡‘åˆ†åˆ¥å¦‚ä½•è¨˜å¸³ï¼Ÿ",
                    scenario: "å…¬å¸è³¼è²·ç”Ÿç”¢è¨­å‚™ $150,000ï¼Œä»¥ç¾é‡‘æ”¯ä»˜",
                    options: ["å€Ÿï¼šè¨­å‚™ $150,000ï¼Œè²¸ï¼šç¾é‡‘ $150,000", "è²¸ï¼šè¨­å‚™ $150,000ï¼Œå€Ÿï¼šç¾é‡‘ $150,000", "å€Ÿï¼šè²»ç”¨ $150,000ï¼Œè²¸ï¼šç¾é‡‘ $150,000", "å€Ÿï¼šè¨­å‚™ $150,000ï¼Œå€Ÿï¼šç¾é‡‘ $150,000"],
                    correct: 0,
                    explanation: "è¨­å‚™ï¼ˆè³‡ç”¢ï¼‰å¢åŠ è¨˜å€Ÿæ–¹ï¼Œç¾é‡‘ï¼ˆè³‡ç”¢ï¼‰æ¸›å°‘è¨˜è²¸æ–¹ã€‚é€™æ˜¯è³‡ç”¢é–“çš„è½‰æ›ã€‚",
                    type: "asset",
                    level: "intermediate"
                },
                {
                    question: "ç™¼ç”ŸéŠ·è²¨é€€å› $15,000 æ™‚ï¼ŒéŠ·è²¨æ”¶å…¥æ‡‰è©²å¦‚ä½•èª¿æ•´ï¼Ÿ",
                    scenario: "å®¢æˆ¶é€€å›ç‘•ç–µå•†å“ï¼Œé€€å›é‡‘é¡ $15,000",
                    options: ["å€Ÿï¼šéŠ·è²¨æ”¶å…¥ $15,000", "è²¸ï¼šéŠ·è²¨æ”¶å…¥ $15,000", "å€Ÿï¼šéŠ·è²¨é€€å› $15,000", "è²¸ï¼šéŠ·è²¨æˆæœ¬ $15,000"],
                    correct: 0,
                    explanation: "éŠ·è²¨é€€å›æ™‚ï¼ŒéŠ·è²¨æ”¶å…¥æ¸›å°‘ï¼Œæ”¶å…¥æ¸›å°‘æ™‚è¨˜å€Ÿæ–¹ï¼ˆç›¸åæ–¹å‘ï¼‰ã€‚",
                    type: "revenue",
                    level: "intermediate"
                }
            ],
            advanced: [
                {
                    question: "å…¬å¸ç™¼è¡Œè‚¡ç¥¨ç±Œè³‡ $500,000ï¼Œè‚¡æœ¬å’Œç¾é‡‘åˆ†åˆ¥å¦‚ä½•è¨˜å¸³ï¼Ÿ",
                    scenario: "å…¬å¸ç™¼è¡Œæ™®é€šè‚¡ç±Œé›†è³‡é‡‘ $500,000ï¼Œæ¯è‚¡é¢é¡ $10ï¼Œç™¼è¡Œ 50,000 è‚¡",
                    options: ["å€Ÿï¼šç¾é‡‘ $500,000ï¼Œè²¸ï¼šè‚¡æœ¬ $500,000", "è²¸ï¼šç¾é‡‘ $500,000ï¼Œå€Ÿï¼šè‚¡æœ¬ $500,000", "å€Ÿï¼šè‚¡æœ¬ $500,000ï¼Œè²¸ï¼šç¾é‡‘ $500,000", "å€Ÿï¼šç¾é‡‘ $500,000ï¼Œå€Ÿï¼šè‚¡æœ¬ $500,000"],
                    correct: 0,
                    explanation: "ç™¼è¡Œè‚¡ç¥¨æ™‚ï¼Œç¾é‡‘ï¼ˆè³‡ç”¢ï¼‰å¢åŠ è¨˜å€Ÿæ–¹ï¼Œè‚¡æœ¬ï¼ˆæ¬Šç›Šï¼‰å¢åŠ è¨˜è²¸æ–¹ã€‚",
                    type: "equity",
                    level: "advanced"
                },
                {
                    question: "è¨ˆææŠ˜èˆŠè²»ç”¨ $20,000 æ™‚ï¼ŒæŠ˜èˆŠè²»ç”¨å’Œç´¯è¨ˆæŠ˜èˆŠåˆ†åˆ¥å¦‚ä½•è¨˜å¸³ï¼Ÿ",
                    scenario: "æœˆåº•è¨ˆæè¨­å‚™æŠ˜èˆŠè²»ç”¨ $20,000",
                    options: ["å€Ÿï¼šæŠ˜èˆŠè²»ç”¨ $20,000ï¼Œè²¸ï¼šç´¯è¨ˆæŠ˜èˆŠ $20,000", "è²¸ï¼šæŠ˜èˆŠè²»ç”¨ $20,000ï¼Œå€Ÿï¼šç´¯è¨ˆæŠ˜èˆŠ $20,000", "å€Ÿï¼šç´¯è¨ˆæŠ˜èˆŠ $20,000ï¼Œè²¸ï¼šæŠ˜èˆŠè²»ç”¨ $20,000", "å€Ÿï¼šæŠ˜èˆŠè²»ç”¨ $20,000ï¼Œè²¸ï¼šè¨­å‚™ $20,000"],
                    correct: 0,
                    explanation: "æŠ˜èˆŠè²»ç”¨ï¼ˆè²»ç”¨ï¼‰å¢åŠ è¨˜å€Ÿæ–¹ï¼Œç´¯è¨ˆæŠ˜èˆŠï¼ˆè³‡ç”¢æŠµéŠ·ç§‘ç›®ï¼‰å¢åŠ è¨˜è²¸æ–¹ã€‚",
                    type: "expense",
                    level: "advanced"
                },
                {
                    question: "è¨ˆæå£å¸³è²»ç”¨ $8,000 æ™‚ï¼Œå£å¸³è²»ç”¨å’Œå‚™æŠµå£å¸³åˆ†åˆ¥å¦‚ä½•è¨˜å¸³ï¼Ÿ",
                    scenario: "ä¾æ“šæ‡‰æ”¶å¸³æ¬¾é¤˜é¡çš„ 2% è¨ˆæå£å¸³æº–å‚™ $8,000",
                    options: ["å€Ÿï¼šå£å¸³è²»ç”¨ $8,000ï¼Œè²¸ï¼šå‚™æŠµå£å¸³ $8,000", "è²¸ï¼šå£å¸³è²»ç”¨ $8,000ï¼Œå€Ÿï¼šå‚™æŠµå£å¸³ $8,000", "å€Ÿï¼šå‚™æŠµå£å¸³ $8,000ï¼Œè²¸ï¼šå£å¸³è²»ç”¨ $8,000", "å€Ÿï¼šå£å¸³è²»ç”¨ $8,000ï¼Œè²¸ï¼šæ‡‰æ”¶å¸³æ¬¾ $8,000"],
                    correct: 0,
                    explanation: "å£å¸³è²»ç”¨ï¼ˆè²»ç”¨ï¼‰å¢åŠ è¨˜å€Ÿæ–¹ï¼Œå‚™æŠµå£å¸³ï¼ˆè³‡ç”¢æŠµéŠ·ç§‘ç›®ï¼‰å¢åŠ è¨˜è²¸æ–¹ã€‚",
                    type: "expense",
                    level: "advanced"
                },
                {
                    question: "æ”¶åˆ°æŠ•è³‡æ”¶ç›Š $12,000 æ™‚ï¼Œç¾é‡‘å’ŒæŠ•è³‡æ”¶ç›Šåˆ†åˆ¥å¦‚ä½•è¨˜å¸³ï¼Ÿ",
                    scenario: "å…¬å¸æŒæœ‰çš„è‚¡ç¥¨æŠ•è³‡æ”¶åˆ°ç¾é‡‘è‚¡åˆ© $12,000",
                    options: ["å€Ÿï¼šç¾é‡‘ $12,000ï¼Œè²¸ï¼šæŠ•è³‡æ”¶ç›Š $12,000", "è²¸ï¼šç¾é‡‘ $12,000ï¼Œå€Ÿï¼šæŠ•è³‡æ”¶ç›Š $12,000", "å€Ÿï¼šæŠ•è³‡æ”¶ç›Š $12,000ï¼Œè²¸ï¼šç¾é‡‘ $12,000", "å€Ÿï¼šç¾é‡‘ $12,000ï¼Œå€Ÿï¼šæŠ•è³‡æ”¶ç›Š $12,000"],
                    correct: 0,
                    explanation: "ç¾é‡‘ï¼ˆè³‡ç”¢ï¼‰å¢åŠ è¨˜å€Ÿæ–¹ï¼ŒæŠ•è³‡æ”¶ç›Šï¼ˆæ”¶å…¥ï¼‰å¢åŠ è¨˜è²¸æ–¹ã€‚",
                    type: "revenue",
                    level: "advanced"
                },
                {
                    question: "é ä»˜ä¿éšªè²» $36,000ï¼ˆä¸€å¹´æœŸï¼‰æ™‚ï¼Œé ä»˜è²»ç”¨å’Œç¾é‡‘åˆ†åˆ¥å¦‚ä½•è¨˜å¸³ï¼Ÿ",
                    scenario: "å…¬å¸é ä»˜ä¸€å¹´æœŸçš„è²¡ç”¢ä¿éšªè²» $36,000",
                    options: ["å€Ÿï¼šé ä»˜è²»ç”¨ $36,000ï¼Œè²¸ï¼šç¾é‡‘ $36,000", "è²¸ï¼šé ä»˜è²»ç”¨ $36,000ï¼Œå€Ÿï¼šç¾é‡‘ $36,000", "å€Ÿï¼šä¿éšªè²»ç”¨ $36,000ï¼Œè²¸ï¼šç¾é‡‘ $36,000", "å€Ÿï¼šç¾é‡‘ $36,000ï¼Œè²¸ï¼šé ä»˜è²»ç”¨ $36,000"],
                    correct: 0,
                    explanation: "é ä»˜è²»ç”¨ï¼ˆè³‡ç”¢ï¼‰å¢åŠ è¨˜å€Ÿæ–¹ï¼Œç¾é‡‘ï¼ˆè³‡ç”¢ï¼‰æ¸›å°‘è¨˜è²¸æ–¹ã€‚é ä»˜è²»ç”¨æ˜¯æœªä¾†æœŸé–“çš„è²»ç”¨ï¼Œç›®å‰ä»ç‚ºè³‡ç”¢ã€‚",
                    type: "asset",
                    level: "advanced"
                }
            ]
        };

        // åŸºæœ¬åŠŸèƒ½
        function calculateDebitCredit() {
            const accountType = document.getElementById('accountType').value;
            const change = document.getElementById('change').value;
            const resultDiv = document.getElementById('demoResult');
            
            if (!accountType || !change) {
                alert('è«‹é¸æ“‡ç§‘ç›®é¡å‹å’Œè®ŠåŒ–æ–¹å‘ï¼');
                return;
            }
            
            const rules = {
                asset: { increase: 'å€Ÿ', decrease: 'è²¸', name: 'è³‡ç”¢' },
                liability: { increase: 'è²¸', decrease: 'å€Ÿ', name: 'è² å‚µ' },
                equity: { increase: 'è²¸', decrease: 'å€Ÿ', name: 'æ¬Šç›Š' },
                revenue: { increase: 'è²¸', decrease: 'å€Ÿ', name: 'æ”¶å…¥' },
                expense: { increase: 'å€Ÿ', decrease: 'è²¸', name: 'è²»ç”¨' }
            };
            
            const changeText = change === 'increase' ? 'å¢åŠ ' : 'æ¸›å°‘';
            const result = rules[accountType][change];
            const accountName = rules[accountType].name;
            
            resultDiv.style.display = 'block';
            resultDiv.innerHTML = `
                <div style="font-size: 1.5em; margin-bottom: 10px;">
                    ğŸ“Š ${accountName} ${changeText} â†’ <span style="color: ${result === 'å€Ÿ' ? '#c62828' : '#2e7d32'}; font-size: 1.2em;">${result}æ–¹</span>
                </div>
                <div style="font-size: 1em; color: #666;">
                    è¨˜æ†¶ï¼š${accountName}${change === 'increase' ? 'å¤š' : 'å°‘'}${result}
                </div>
            `;
        }

        // è€ƒè©¦åŠŸèƒ½
        function showExamMode(mode) {
            // éš±è—æ‰€æœ‰æ¨¡å¼
            document.querySelectorAll('.exam-mode').forEach(el => el.style.display = 'none');
            document.querySelectorAll('.exam-tab').forEach(el => el.classList.remove('active'));
            
            // é¡¯ç¤ºé¸ä¸­çš„æ¨¡å¼
            document.getElementById(mode + 'Mode').style.display = 'block';
            
            // æ‰¾åˆ°è¢«é»æ“Šçš„æ¨™ç±¤ä¸¦æ¨™è¨˜ç‚ºæ´»å‹•
            const clickedTab = Array.from(document.querySelectorAll('.exam-tab')).find(tab => 
                tab.textContent.includes(getTabText(mode))
            );
            if (clickedTab) {
                clickedTab.classList.add('active');
            }
            
            // ç‰¹æ®Šè™•ç†
            if (mode === 'review') {
                updateReviewContent();
            } else if (mode === 'statistics') {
                updateStatistics();
            }
        }

        function getTabText(mode) {
            const tabTexts = {
                'practice': 'ç·´ç¿’æ¨¡å¼',
                'test': 'æ­£å¼è€ƒè©¦',
                'review': 'éŒ¯é¡Œå›é¡§',
                'statistics': 'å­¸ç¿’çµ±è¨ˆ'
            };
            return tabTexts[mode] || '';
        }

        function showStatistics() {
            showExamMode('statistics');
        }

        function startPractice() {
            const level = document.getElementById('practiceLevel').value;
            const questions = questionBank[level];
            
            if (!questions || questions.length === 0) {
                alert('è©²é›£åº¦ç­‰ç´šæš«ç„¡é¡Œç›®ï¼');
                return;
            }
            
            const randomQuestion = questions[Math.floor(Math.random() * questions.length)];
            displayQuestion(randomQuestion, 'practice');
        }

        function startExam() {
            const duration = parseInt(document.getElementById('testDuration').value);
            const count = parseInt(document.getElementById('questionCount').value);
            const level = document.getElementById('testLevel').value;
            
            // ç”Ÿæˆè€ƒè©¦é¡Œç›®
            examQuestions = generateExamQuestions(level, count);
            
            if (examQuestions.length === 0) {
                alert('ç„¡æ³•ç”Ÿæˆè¶³å¤ çš„é¡Œç›®ï¼Œè«‹èª¿æ•´è¨­å®šï¼');
                return;
            }
            
            userAnswers = [];
            currentQuestion = 0;
            
            // é–‹å§‹è¨ˆæ™‚
            examStartTime = Date.now();
            startExamTimer(duration);
            
            // é¡¯ç¤ºè€ƒè©¦é€²åº¦
            document.getElementById('examProgress').style.display = 'block';
            document.querySelector('.exam-settings').style.display = 'none';
            
            // é¡¯ç¤ºç¬¬ä¸€é¡Œ
            displayExamQuestion();
        }

        function generateExamQuestions(level, count) {
            let questions = [];
            
            if (level === 'mixed') {
                const allQuestions = [...questionBank.beginner, ...questionBank.intermediate, ...questionBank.advanced];
                questions = shuffleArray([...allQuestions]);
            } else {
                questions = shuffleArray([...questionBank[level]]);
            }
            
            return questions.slice(0, Math.min(count, questions.length));
        }

        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        function startExamTimer(duration) {
            let timeLeft = duration;
            
            examTimer = setInterval(() => {
                timeLeft--;
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                const timerElement = document.getElementById('examTimer');
                if (timerElement) {
                    timerElement.textContent = 
                        `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                }
                
                if (timeLeft <= 0) {
                    clearInterval(examTimer);
                    finishExam();
                }
            }, 1000);
        }

        function displayQuestion(question, mode) {
            const containerId = mode === 'practice' ? 'practiceQuestion' : 'examQuestion';
            const container = document.getElementById(containerId);
            
            if (!container) {
                console.error('æ‰¾ä¸åˆ°å®¹å™¨:', containerId);
                return;
            }
            
            container.style.display = 'block';
            container.innerHTML = `
                <div class="question-text">${question.question}</div>
                ${question.scenario ? `<div class="question-scenario">ğŸ’¼ æƒ…å¢ƒï¼š${question.scenario}</div>` : ''}
                <div class="answer-options" id="${mode}Options">
                    ${question.options.map((option, index) => 
                        `<div class="answer-option" onclick="selectAnswer(${index}, '${mode}')" id="${mode}Option${index}">
                            ${option}
                        </div>`
                    ).join('')}
                </div>
                <div class="question-buttons">
                    <button class="submit-btn" onclick="submitAnswer('${mode}')">æäº¤ç­”æ¡ˆ</button>
                    ${mode === 'practice' ? '<button class="next-btn" onclick="startPractice()">ä¸‹ä¸€é¡Œ</button>' : ''}
                    ${mode === 'exam' ? '<button class="skip-btn" onclick="skipQuestion()">è·³é</button>' : ''}
                </div>
                <div id="${mode}Explanation" class="explanation" style="display: none;">
                    <h4>ğŸ“š è§£æ</h4>
                    <p>${question.explanation}</p>
                </div>
            `;
            
            // å„²å­˜ç•¶å‰é¡Œç›®
            if (mode === 'practice') {
                window.currentPracticeQuestion = question;
            }
        }

        function displayExamQuestion() {
            if (currentQuestion >= examQuestions.length) {
                finishExam();
                return;
            }
            
            const question = examQuestions[currentQuestion];
            
            // æ›´æ–°é€²åº¦
            const questionCounter = document.getElementById('questionCounter');
            const progressBar = document.getElementById('progressBar');
            const currentScore = document.getElementById('currentScore');
            
            if (questionCounter) {
                questionCounter.textContent = `ç¬¬ ${currentQuestion + 1} é¡Œï¼Œå…± ${examQuestions.length} é¡Œ`;
            }
            
            if (progressBar) {
                progressBar.style.width = `${((currentQuestion) / examQuestions.length) * 100}%`;
            }
            
            if (currentScore) {
                const correctAnswers = userAnswers.filter(a => a.correct).length;
                currentScore.textContent = `ç›®å‰å¾—åˆ†: ${correctAnswers}/${currentQuestion}`;
            }
            
            displayQuestion(question, 'exam');
        }

        function selectAnswer(index, mode) {
            // æ¸…é™¤æ‰€æœ‰é¸é …çš„é¸ä¸­ç‹€æ…‹
            const options = document.querySelectorAll(`#${mode}Options .answer-option`);
            options.forEach(el => el.classList.remove('selected'));
            
            // æ¨™è¨˜é¸ä¸­çš„é¸é …
            const selectedOption = document.getElementById(`${mode}Option${index}`);
            if (selectedOption) {
                selectedOption.classList.add('selected');
            }
            
            // å„²å­˜é¸æ“‡
            if (mode === 'practice') {
                window.selectedPracticeAnswer = index;
            } else if (mode === 'exam') {
                window.selectedExamAnswer = index;
            }
        }

        function submitAnswer(mode) {
            let selectedAnswer, currentQ, explanationId;
            
            if (mode === 'practice') {
                selectedAnswer = window.selectedPracticeAnswer;
                currentQ = window.currentPracticeQuestion;
                explanationId = 'practiceExplanation';
            } else if (mode === 'exam') {
                selectedAnswer = window.selectedExamAnswer;
                currentQ = examQuestions[currentQuestion];
                explanationId = 'examExplanation';
            }
            
            if (selectedAnswer === undefined || !currentQ) {
                alert('è«‹å…ˆé¸æ“‡ä¸€å€‹ç­”æ¡ˆï¼');
                return;
            }
            
            const isCorrect = selectedAnswer === currentQ.correct;
            
            // é¡¯ç¤ºç­”æ¡ˆçµæœ
            const options = document.querySelectorAll(`#${mode}Options .answer-option`);
            options.forEach((el, index) => {
                el.style.pointerEvents = 'none';
                if (index === currentQ.correct) {
                    el.classList.add('correct');
                } else if (index === selectedAnswer && !isCorrect) {
                    el.classList.add('wrong');
                }
            });
            
            // é¡¯ç¤ºè§£æ
            const explanationElement = document.getElementById(explanationId);
            if (explanationElement) {
                explanationElement.style.display = 'block';
            }
            
            // æ›´æ–°çµ±è¨ˆ
            examStats.totalQuestions++;
            if (isCorrect) {
                examStats.correctAnswers++;
            } else {
                // è¨˜éŒ„éŒ¯é¡Œ
                examStats.wrongQuestions.push({
                    question: currentQ.question,
                    scenario: currentQ.scenario || '',
                    yourAnswer: currentQ.options[selectedAnswer],
                    correctAnswer: currentQ.options[currentQ.correct],
                    explanation: currentQ.explanation,
                    timestamp: new Date().toLocaleString()
                });
            }
            
            // è€ƒè©¦æ¨¡å¼ç‰¹æ®Šè™•ç†
            if (mode === 'exam') {
                userAnswers.push({
                    questionIndex: currentQuestion,
                    selectedAnswer: selectedAnswer,
                    correct: isCorrect,
                    question: currentQ
                });
                
                // å»¶é²é¡¯ç¤ºä¸‹ä¸€é¡ŒæŒ‰éˆ•
                setTimeout(() => {
                    const buttonContainer = document.querySelector('.question-buttons');
                    if (buttonContainer) {
                        if (currentQuestion < examQuestions.length - 1) {
                            buttonContainer.innerHTML += 
                                '<button class="next-btn" onclick="nextExamQuestion()">ä¸‹ä¸€é¡Œ</button>';
                        } else {
                            buttonContainer.innerHTML += 
                                '<button class="next-btn" onclick="finishExam()">å®Œæˆè€ƒè©¦</button>';
                        }
                    }
                }, 1000);
            }
            
            saveExamStats();
        }

        function skipQuestion() {
            if (examQuestions[currentQuestion]) {
                userAnswers.push({
                    questionIndex: currentQuestion,
                    selectedAnswer: -1,
                    correct: false,
                    question: examQuestions[currentQuestion]
                });
            }
            nextExamQuestion();
        }

        function nextExamQuestion() {
            currentQuestion++;
            window.selectedExamAnswer = undefined;
            displayExamQuestion();
        }

        function finishExam() {
            if (examTimer) {
                clearInterval(examTimer);
            }
            
            const endTime = Date.now();
            const timeSpent = Math.floor((endTime - examStartTime) / 1000);
            const correctCount = userAnswers.filter(a => a.correct).length;
            const totalCount = examQuestions.length;
            const score = totalCount > 0 ? Math.round((correctCount / totalCount) * 100) : 0;
            
            // æ›´æ–°çµ±è¨ˆ
            examStats.totalExams++;
            examStats.timeSpent += timeSpent;
            saveExamStats();
            
            // é¡¯ç¤ºçµæœ
            showExamResult(score, correctCount, totalCount, timeSpent);
        }

        function showExamResult(score, correct, total, timeSpent) {
            const resultContainer = document.getElementById('examResult');
            const questionContainer = document.getElementById('examQuestion');
            const progressContainer = document.getElementById('examProgress');
            
            if (questionContainer) questionContainer.style.display = 'none';
            if (progressContainer) progressContainer.style.display = 'none';
            if (resultContainer) resultContainer.style.display = 'block';
            
            let scoreClass = 'poor';
            let message = 'éœ€è¦åŠ å¼·ç·´ç¿’';
            let emoji = 'ğŸ˜°';
            
            if (score >= 90) {
                scoreClass = 'excellent';
                message = 'è¡¨ç¾å„ªç•°ï¼';
                emoji = 'ğŸ‰';
            } else if (score >= 75) {
                scoreClass = 'good';
                message = 'è¡¨ç¾è‰¯å¥½ï¼';
                emoji = 'ğŸ˜Š';
            } else if (score >= 60) {
                scoreClass = 'fair';
                message = 'å°šå¯ï¼Œå†æ¥å†å²ï¼';
                emoji = 'ğŸ˜';
            }
            
            const minutes = Math.floor(timeSpent / 60);
            const seconds = timeSpent % 60;
            
            if (resultContainer) {
                resultContainer.innerHTML = `
                    <h2>${emoji} è€ƒè©¦çµæœ</h2>
                    <div class="result-score ${scoreClass}">${score}åˆ†</div>
                    <p style="font-size: 1.2em; margin-bottom: 20px;">${message}</p>
                    
                    <div class="result-details">
                        <div class="result-item">
                            <h4>ç¸½é¡Œæ•¸</h4>
                            <div class="number">${total}</div>
                        </div>
                        <div class="result-item">
                            <h4>ç­”å°é¡Œæ•¸</h4>
                            <div class="number">${correct}</div>
                        </div>
                        <div class="result-item">
                            <h4>ç­”éŒ¯é¡Œæ•¸</h4>
                            <div class="number">${total - correct}</div>
                        </div>
                        <div class="result-item">
                            <h4>ä½¿ç”¨æ™‚é–“</h4>
                            <div class="number">${minutes}:${seconds.toString().padStart(2, '0')}</div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 25px;">
                        <button class="start-exam-btn" onclick="restartExam()">é‡æ–°è€ƒè©¦</button>
                        <button class="next-btn" onclick="showExamMode('review')" style="margin-left: 15px;">æŸ¥çœ‹éŒ¯é¡Œ</button>
                    </div>
                `;
            }
        }

        function restartExam() {
            const examResult = document.getElementById('examResult');
            const examSettings = document.querySelector('.exam-settings');
            
            if (examResult) examResult.style.display = 'none';
            if (examSettings) examSettings.style.display = 'flex';
            
            currentQuestion = 0;
            userAnswers = [];
            examQuestions = [];
        }

        function updateStatistics() {
            const container = document.getElementById('statisticsContent');
            if (!container) return;
            
            const accuracy = examStats.totalQuestions > 0 ? 
                Math.round((examStats.correctAnswers / examStats.totalQuestions) * 100) : 0;
            const avgTime = examStats.totalExams > 0 ? 
                Math.round(examStats.timeSpent / examStats.totalExams) : 0;
            
            container.innerHTML = `
                <div class="stat-card">
                    <h4>ğŸ“Š ç¸½é«”çµ±è¨ˆ</h4>
                    <div class="stat-number primary">${examStats.totalExams}</div>
                    <div class="stat-description">è€ƒè©¦æ¬¡æ•¸</div>
                </div>
                
                <div class="stat-card">
                    <h4>ğŸ“ ç­”é¡Œçµ±è¨ˆ</h4>
                    <div class="stat-number success">${examStats.totalQuestions}</div>
                    <div class="stat-description">ç´¯è¨ˆç­”é¡Œæ•¸</div>
                </div>
                
                <div class="stat-card">
                    <h4>ğŸ¯ æ­£ç¢ºç‡</h4>
                    <div class="stat-number ${accuracy >= 80 ? 'success' : accuracy >= 60 ? 'warning' : 'danger'}">${accuracy}%</div>
                    <div class="stat-description">æ•´é«”æ­£ç¢ºç‡</div>
                </div>
                
                <div class="stat-card">
                    <h4>â±ï¸ å¹³å‡æ™‚é–“</h4>
                    <div class="stat-number primary">${Math.floor(avgTime / 60)}:${(avgTime % 60).toString().padStart(2, '0')}</div>
                    <div class="stat-description">æ¯æ¬¡è€ƒè©¦å¹³å‡ç”¨æ™‚</div>
                </div>
                
                <div class="stat-card">
                    <h4>âŒ éŒ¯é¡Œæ•¸é‡</h4>
                    <div class="stat-number danger">${examStats.wrongQuestions.length}</div>
                    <div class="stat-description">éœ€è¦å¾©ç¿’çš„é¡Œç›®</div>
                </div>
                
                <div class="stat-card">
                    <h4>âœ… æ­£ç¢ºé¡Œæ•¸</h4>
                    <div class="stat-number success">${examStats.correctAnswers}</div>
                    <div class="stat-description">ç´¯è¨ˆç­”å°é¡Œæ•¸</div>
                </div>
            `;
        }

        function clearWrongAnswers() {
            if (confirm('ç¢ºå®šè¦æ¸…ç©ºæ‰€æœ‰éŒ¯é¡Œè¨˜éŒ„å—ï¼Ÿ')) {
                examStats.wrongQuestions = [];
                saveExamStats();
                updateReviewContent();
            }
        }

        function updateReviewContent() {
            const container = document.getElementById('reviewContent');
            if (!container) return;
            
            if (examStats.wrongQuestions.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 50px; color: #6c757d;">
                        <h3>ğŸ‰ å¤ªæ£’äº†ï¼</h3>
                        <p>ç›®å‰æ²’æœ‰éŒ¯é¡Œè¨˜éŒ„ï¼Œç¹¼çºŒä¿æŒï¼</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = examStats.wrongQuestions.map((item, index) => `
                <div class="review-question">
                    <h4>âŒ éŒ¯é¡Œ ${index + 1} - ${item.timestamp}</h4>
                    <div><strong>é¡Œç›®ï¼š</strong>${item.question}</div>
                    ${item.scenario ? `<div><strong>æƒ…å¢ƒï¼š</strong>${item.scenario}</div>` : ''}
                    <div class="your-answer"><strong>ä½ çš„ç­”æ¡ˆï¼š</strong>${item.yourAnswer}</div>
                    <div class="correct-answer"><strong>æ­£ç¢ºç­”æ¡ˆï¼š</strong>${item.correctAnswer}</div>
                    <div><strong>è§£æï¼š</strong>${item.explanation}</div>
                </div>
            `).join('');
        }

        function saveExamStats() {
            try {
                localStorage.setItem('examStats', JSON.stringify(examStats));
            } catch (e) {
                console.error('ç„¡æ³•ä¿å­˜çµ±è¨ˆè³‡æ–™:', e);
            }
        }

        // äº‹ä»¶ç›£è½å™¨
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                const activeElement = document.activeElement;
                if (activeElement && activeElement.tagName !== 'BUTTON') {
                    calculateDebitCredit();
                }
            }
        });

        // é é¢è¼‰å…¥å®Œæˆå¾Œåˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            updateReviewContent();
            updateStatistics();
        });

        // å‚™ç”¨åˆå§‹åŒ–
        setTimeout(function() {
            if (typeof updateReviewContent === 'function') {
                updateReviewContent();
            }
            if (typeof updateStatistics === 'function') {
                updateStatistics();
            }
        }, 500);

    </script>
</body>
</html><!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœƒè¨ˆå€Ÿè²¸åˆ¤æ–·æµç¨‹åœ–</title>
    <style>
        body {
            font-family: 'Microsoft JhengHei', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            padding: 30px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin: 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .header p {
            color: #7f8c8d;
            font-size: 1.2em;
            margin: 10px 0;
        }
        
        .rule-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 1.1em;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-radius: 10px;
            overflow: hidden;
        }
        
        .rule-table th {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px;
            text-align: center;
            font-weight: bold;
        }
        
        .rule-table td {
            padding: 12px;
            text-align: center;
            border-bottom: 1px solid #ecf0f1;
        }
        
        .rule-table tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        
        .rule-table tr:hover {
            background-color: #e3f2fd;
            transform: scale(1.01);
            transition: all 0.3s ease;
        }
        
        .asset { background-color: #e8f5e8 !important; }
        .liability { background-color: #fff3e0 !important; }
        .equity { background-color: #f3e5f5 !important; }
        .revenue { background-color: #e1f5fe !important; }
        .expense { background-color: #ffebee !important; }
        
        .debit {
            background: linear-gradient(135deg, #ff9a9e, #fecfef);
            color: #c62828;
            font-weight: bold;
            padding: 8px 15px;
            border-radius: 20px;
            display: inline-block;
        }
        
        .credit {
            background: linear-gradient(135deg, #a8edea, #fed6e3);
            color: #2e7d32;
            font-weight: bold;
            padding: 8px 15px;
            border-radius: 20px;
            display: inline-block;
        }
        
        .flowchart {
            margin: 30px 0;
            text-align: center;
        }
        
        .step {
            background: white;
            border: 3px solid #667eea;
            border-radius: 15px;
            padding: 20px;
            margin: 15px;
            display: inline-block;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }
        
        .step:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }
        
        .step h3 {
            color: #667eea;
            margin: 0 0 10px 0;
            font-size: 1.3em;
        }
        
        .arrow {
            font-size: 2em;
            color: #667eea;
            margin: 0 20px;
        }
        
        .example-section {
            margin-top: 40px;
            padding: 25px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            border-radius: 15px;
            color: white;
        }
        
        .example-section h2 {
            text-align: center;
            margin-bottom: 25px;
            font-size: 2em;
        }
        
        .examples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .example-card {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .example-card h3 {
            margin-top: 0;
            color: #fff;
            font-size: 1.3em;
        }
        
        .example-item {
            margin: 15px 0;
            padding: 10px;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            border-left: 4px solid #fff;
        }
        
        .formula {
            background: #34495e;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            font-size: 1.3em;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .interactive-demo {
            margin-top: 30px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 15px;
            border: 2px solid #dee2e6;
        }
        
        .interactive-demo h2 {
            text-align: center;
            color: #495057;
            margin-bottom: 20px;
        }
        
        .demo-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .demo-controls select, .demo-controls button {
            padding: 10px 15px;
            border: 2px solid #667eea;
            border-radius: 8px;
            font-size: 1.1em;
            background: white;
        }
        
        .demo-controls button {
            background: #667eea;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .demo-controls button:hover {
            background: #5a67d8;
            transform: translateY(-2px);
        }
        
        .demo-result {
            text-align: center;
            padding: 20px;
            background: white;
            border-radius: 10px;
            border: 2px solid #28a745;
            margin-top: 20px;
            font-size: 1.2em;
            font-weight: bold;
        }
        
        .exam-section {
            margin-top: 40px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 15px;
            border: 2px solid #dee2e6;
        }
        
        .exam-section h2 {
            text-align: center;
            color: #495057;
            margin-bottom: 20px;
            font-size: 2em;
        }
        
        .exam-tabs {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }
        
        .exam-tab {
            padding: 12px 24px;
            border: none;
            background: #e9ecef;
            color: #495057;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            font-size: 1em;
        }
        
        .exam-tab:hover {
            background: #dee2e6;
            transform: translateY(-2px);
        }
        
        .exam-tab.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }
        
        .exam-mode {
            min-height: 400px;
        }
        
        .exam-controls, .exam-settings {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .exam-settings {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .setting-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }
        
        .setting-group label {
            font-weight: bold;
            color: #495057;
        }
        
        .exam-controls select, .exam-settings select {
            padding: 10px 15px;
            border: 2px solid #667eea;
            border-radius: 8px;
            font-size: 1em;
            background: white;
            min-width: 150px;
        }
        
        .start-exam-btn {
            padding: 15px 30px;
            background: linear-gradient(135deg, #ff6b6b, #ee5a52);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 15px;
        }
        
        .start-exam-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(255,107,107,0.3);
        }
        
        .exam-progress {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .timer {
            font-size: 1.5em;
            font-weight: bold;
            color: #dc3545;
            background: #fff5f5;
            padding: 8px 15px;
            border-radius: 20px;
            border: 2px solid #dc3545;
        }
        
        .question-counter {
            font-size: 1.2em;
            color: #495057;
            font-weight: bold;
        }
        
        .score-display {
            font-size: 1.2em;
            color: #28a745;
            font-weight: bold;
            background: #f8fff8;
            padding: 8px 15px;
            border-radius: 20px;
            border: 2px solid #28a745;
        }
        
        .progress-bar-container {
            width: 100%;
            height: 10px;
            background: #e9ecef;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #28a745, #20c997);
            border-radius: 5px;
            transition: width 0.3s ease;
            width: 0%;
        }
        
        .question-container {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .question-text {
            font-size: 1.3em;
            color: #2c3e50;
            margin-bottom: 20px;
            line-height: 1.6;
            font-weight: bold;
        }
        
        .question-scenario {
            background: #e8f4fd;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 5px solid #007bff;
            font-style: italic;
        }
        
        .answer-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .answer-option {
            padding: 15px;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-weight: bold;
            background: white;
        }
        
        .answer-option:hover {
            border-color: #667eea;
            background: #f8f9ff;
            transform: translateY(-2px);
        }
        
        .answer-option.selected {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }
        
        .answer-option.correct {
            border-color: #28a745;
            background: #28a745;
            color: white;
        }
        
        .answer-option.wrong {
            border-color: #dc3545;
            background: #dc3545;
            color: white;
        }
        
        .question-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .question-buttons button {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1em;
        }
        
        .submit-btn {
            background: #28a745;
            color: white;
        }
        
        .submit-btn:hover {
            background: #218838;
            transform: translateY(-2px);
        }
        
        .next-btn {
            background: #007bff;
            color: white;
        }
        
        .next-btn:hover {
            background: #0056b3;
            transform: translateY(-2px);
        }
        
        .skip-btn {
            background: #6c757d;
            color: white;
        }
        
        .skip-btn:hover {
            background: #5a6268;
            transform: translateY(-2px);
        }
        
        .explanation {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .explanation h4 {
            color: #856404;
            margin-top: 0;
            font-size: 1.2em;
        }
        
        .explanation p {
            color: #856404;
            margin-bottom: 0;
            line-height: 1.6;
        }
        
        .exam-result {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .result-score {
            font-size: 3em;
            font-weight: bold;
            margin-bottom: 15px;
        }
        
        .result-score.excellent { color: #28a745; }
        .result-score.good { color: #007bff; }
        .result-score.fair { color: #ffc107; }
        .result-score.poor { color: #dc3545; }
        
        .result-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .result-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            border-left: 5px solid #667eea;
        }
        
        .result-item h4 {
            margin: 0 0 10px 0;
            color: #495057;
        }
        
        .result-item .number {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }
        
        .review-content {
            max-height: 500px;
            overflow-y: auto;
        }
        
        .review-question {
            background: white;
            padding: 20px;
            margin-bottom: 15px;
            border-radius: 10px;
            border-left: 5px solid #dc3545;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .review-question h4 {
            color: #dc3545;
            margin-top: 0;
        }
        
        .your-answer, .correct-answer {
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        
        .your-answer {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }
        
        .correct-answer {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }
        
        .clear-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .clear-btn:hover {
            background: #c82333;
        }
        
        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .statistics-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .stat-card h4 {
            margin-top: 0;
            color: #495057;
            font-size: 1.3em;
        }
        
        .stat-number {
            font-size: 3em;
            font-weight: bold;
            margin: 15px 0;
        }
        
        .stat-number.primary { color: #667eea; }
        .stat-number.success { color: #28a745; }
        .stat-number.warning { color: #ffc107; }
        .stat-number.danger { color: #dc3545; }
        
        .stat-description {
            color: #6c757d;
            font-size: 0.9em;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .rule-table {
                font-size: 0.9em;
            }
            
            .step {
                margin: 10px 5px;
                padding: 15px;
            }
            
            .arrow {
                display: block;
                margin: 10px 0;
            }
            
            .exam-tabs {
                flex-direction: column;
                align-items: center;
            }
            
            .exam-tab {
                width: 80%;
                text-align: center;
            }
            
            .exam-controls, .exam-settings {
                flex-direction: column;
                align-items: center;
            }
            
            .progress-header {
                flex-direction: column;
                text-align: center;
            }
            
            .answer-options {
                grid-template-columns: 1fr;
            }
            
            .result-details {
                grid-template-columns: 1fr;
            }
            
            .statistics-content {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¯ æœƒè¨ˆå€Ÿè²¸åˆ¤æ–·æµç¨‹åœ–</h1>
            <p>ä¸€çœ¼çœ‹æ‡‚ï¼šç§‘ç›®æ€§è³ª + å¢æ¸› â†’ å€Ÿè²¸æ–¹å‘</p>
        </div>
        
        <div class="formula">
            ğŸ“Œ æ ¸å¿ƒæ¦‚å¿µï¼šå€Ÿè²¸åªæ˜¯è¨˜è™Ÿï¼Œå…ˆçœ‹ç§‘ç›®æ€§è³ªï¼Œå†å¥—ç”¨å¢æ¸›è¦å‰‡ï¼
        </div>
        
        <table class="rule-table">
            <thead>
                <tr>
                    <th>ç§‘ç›®ç¨®é¡</th>
                    <th>å¢åŠ æ™‚</th>
                    <th>æ¸›å°‘æ™‚</th>
                    <th>è¨˜æ†¶å£è¨£</th>
                </tr>
            </thead>
            <tbody>
                <tr class="asset">
                    <td><strong>è³‡ç”¢ (Asset)</strong><br>ç¾é‡‘ã€å­˜è²¨ã€è¨­å‚™ç­‰</td>
                    <td><span class="debit">å€Ÿ (D)</span></td>
                    <td><span class="credit">è²¸ (C)</span></td>
                    <td>è³‡ç”¢å¤šå€Ÿå°‘è²¸</td>
                </tr>
                <tr class="liability">
                    <td><strong>è² å‚µ (Liability)</strong><br>æ‡‰ä»˜å¸³æ¬¾ã€å€Ÿæ¬¾ç­‰</td>
                    <td><span class="credit">è²¸ (C)</span></td>
                    <td><span class="debit">å€Ÿ (D)</span></td>
                    <td>è² å‚µå¤šè²¸å°‘å€Ÿ</td>
                </tr>
                <tr class="equity">
                    <td><strong>æ¬Šç›Š (Equity)</strong><br>è³‡æœ¬ã€ä¿ç•™ç›ˆé¤˜ç­‰</td>
                    <td><span class="credit">è²¸ (C)</span></td>
                    <td><span class="debit">å€Ÿ (D)</span></td>
                    <td>æ¬Šç›Šå¤šè²¸å°‘å€Ÿ</td>
                </tr>
                <tr class="revenue">
                    <td><strong>æ”¶å…¥ (Revenue)</strong><br>éŠ·è²¨æ”¶å…¥ã€åˆ©æ¯æ”¶å…¥ç­‰</td>
                    <td><span class="credit">è²¸ (C)</span></td>
                    <td><span class="debit">å€Ÿ (D)</span></td>
                    <td>æ”¶å…¥å¤šè²¸å°‘å€Ÿ</td>
                </tr>
                <tr class="expense">
                    <td><strong>è²»ç”¨ (Expense)</strong><br>è–ªè³‡è²»ç”¨ã€ç§Ÿé‡‘è²»ç”¨ç­‰</td>
                    <td><span class="debit">å€Ÿ (D)</span></td>
                    <td><span class="credit">è²¸ (C)</span></td>
                    <td>è²»ç”¨å¤šå€Ÿå°‘è²¸</td>
                </tr>
            </tbody>
        </table>
        
        <div class="flowchart">
            <h2>ğŸ”„ ä¸‰æ­¥é©Ÿåˆ¤æ–·æµç¨‹</h2>
            <div class="step">
                <h3>æ­¥é©Ÿ 1</h3>
                <p>è­˜åˆ¥ç§‘ç›®æ€§è³ª<br>ï¼ˆè³‡ç”¢/è² å‚µ/æ¬Šç›Š/æ”¶å…¥/è²»ç”¨ï¼‰</p>
            </div>
            <span class="arrow">â¡ï¸</span>
            <div class="step">
                <h3>æ­¥é©Ÿ 2</h3>
                <p>åˆ¤æ–·æ˜¯å¢åŠ é‚„æ˜¯æ¸›å°‘</p>
            </div>
            <span class="arrow">â¡ï¸</span>
            <div class="step">
                <h3>æ­¥é©Ÿ 3</h3>
                <p>å¥—ç”¨å€Ÿè²¸è¦å‰‡<br>æŸ¥è¡¨å¾—å‡ºç­”æ¡ˆ</p>
            </div>
        </div>
        
        <div class="interactive-demo">
            <h2>ğŸ® äº’å‹•ç·´ç¿’</h2>
            <div class="demo-controls">
                <select id="accountType">
                    <option value="">é¸æ“‡ç§‘ç›®é¡å‹</option>
                    <option value="asset">è³‡ç”¢</option>
                    <option value="liability">è² å‚µ</option>
                    <option value="equity">æ¬Šç›Š</option>
                    <option value="revenue">æ”¶å…¥</option>
                    <option value="expense">è²»ç”¨</option>
                </select>
                
                <select id="change">
                    <option value="">é¸æ“‡è®ŠåŒ–</option>
                    <option value="increase">å¢åŠ </option>
                    <option value="decrease">æ¸›å°‘</option>
                </select>
                
                <button onclick="calculateDebitCredit()">è¨ˆç®—å€Ÿè²¸</button>
            </div>
            
            <div id="demoResult" class="demo-result" style="display: none;"></div>
        </div>

        <div class="exam-section">
            <h2>ğŸ“ å­¸ç¿’è€ƒè©¦</h2>
            <div class="exam-tabs">
                <button class="exam-tab active" onclick="showExamMode('practice')">ç·´ç¿’æ¨¡å¼</button>
                <button class="exam-tab" onclick="showExamMode('test')">æ­£å¼è€ƒè©¦</button>
                <button class="exam-tab" onclick="showExamMode('review')">éŒ¯é¡Œå›é¡§</button>
                <button class="exam-tab" onclick="showStatistics()">å­¸ç¿’çµ±è¨ˆ</button>
            </div>
            
            <!-- ç·´ç¿’æ¨¡å¼ -->
            <div id="practiceMode" class="exam-mode active">
                <div class="exam-controls">
                    <select id="practiceLevel">
                        <option value="beginner">åˆç´šï¼ˆåŸºæœ¬ç§‘ç›®ï¼‰</option>
                        <option value="intermediate">ä¸­ç´šï¼ˆæ··åˆç§‘ç›®ï¼‰</option>
                        <option value="advanced">é«˜ç´šï¼ˆå¯¦å‹™æ¡ˆä¾‹ï¼‰</option>
                    </select>
                    <button onclick="startPractice()">é–‹å§‹ç·´ç¿’</button>
                </div>
                <div id="practiceQuestion" class="question-container" style="display: none;"></div>
            </div>
            
            <!-- æ­£å¼è€ƒè©¦æ¨¡å¼ -->
            <div id="testMode" class="exam-mode" style="display: none;">
                <div class="exam-settings">
                    <div class="setting-group">
                        <label>è€ƒè©¦æ™‚é–“ï¼š</label>
                        <select id="testDuration">
                            <option value="300">5åˆ†é˜ï¼ˆå¿«é€Ÿæ¸¬é©—ï¼‰</option>
                            <option value="600">10åˆ†é˜ï¼ˆæ¨™æº–æ¸¬é©—ï¼‰</option>
                            <option value="1200">20åˆ†é˜ï¼ˆå®Œæ•´æ¸¬é©—ï¼‰</option>
                        </select>
                    </div>
                    <div class="setting-group">
                        <label>é¡Œç›®æ•¸é‡ï¼š</label>
                        <select id="questionCount">
                            <option value="10">10é¡Œ</option>
                            <option value="15">15é¡Œ</option>
                            <option value="20">20é¡Œ</option>
                        </select>
                    </div>
                    <div class="setting-group">
                        <label>é›£åº¦ç­‰ç´šï¼š</label>
                        <select id="testLevel">
                            <option value="mixed">æ··åˆé›£åº¦</option>
                            <option value="beginner">åˆç´š</option>
                            <option value="intermediate">ä¸­ç´š</option>
                            <option value="advanced">é«˜ç´š</option>
                        </select>
                    </div>
                    <button onclick="startExam()" class="start-exam-btn">é–‹å§‹è€ƒè©¦</button>
                </div>
                
                <div id="examProgress" class="exam-progress" style="display: none;">
                    <div class="progress-header">
                        <div class="timer" id="examTimer">00:00</div>
                        <div class="question-counter" id="questionCounter">ç¬¬ 1 é¡Œï¼Œå…± 10 é¡Œ</div>
                        <div class="score-display" id="currentScore">ç›®å‰å¾—åˆ†: 0</div>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="progressBar"></div>
                    </div>
                </div>
                
                <div id="examQuestion" class="question-container"></div>
                <div id="examResult" class="exam-result" style="display: none;"></div>
            </div>
            
            <!-- éŒ¯é¡Œå›é¡§æ¨¡å¼ -->
            <div id="reviewMode" class="exam-mode" style="display: none;">
                <div class="review-header">
                    <h3>ğŸ“š éŒ¯é¡Œå›é¡§èˆ‡åˆ†æ</h3>
                    <button onclick="clearWrongAnswers()" class="clear-btn">æ¸…ç©ºéŒ¯é¡Œè¨˜éŒ„</button>
                </div>
                <div id="reviewContent" class="review-content"></div>
            </div>
            
            <!-- å­¸ç¿’çµ±è¨ˆ -->
            <div id="statisticsMode" class="exam-mode" style="display: none;">
                <h3>ğŸ“Š å­¸ç¿’çµ±è¨ˆåˆ†æ</h3>
                <div i